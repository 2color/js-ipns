<!doctype html>
<html lang="en">
<head>
  <meta charset='utf-8'>
  <title>ipns 0.8.0 | Documentation</title>
  <meta name='description' content='ipns record definitions'>
  <meta name='viewport' content='width=device-width,initial-scale=1'>
  <link href='assets/bass.css' rel='stylesheet'>
  <link href='assets/style.css' rel='stylesheet'>
  <link href='assets/github.css' rel='stylesheet'>
  <link href='assets/split.css' rel='stylesheet'>
</head>
<body class='documentation m0'>
    <div class='flex'>
      <div id='split-left' class='overflow-auto fs0 height-viewport-100'>
        <div class='py1 px2'>
          <h3 class='mb0 no-anchor'>ipns</h3>
          <div class='mb1'><code>0.8.0</code></div>
          <input
            placeholder='Filter'
            id='filter-input'
            class='col12 block input'
            spellcheck='false'
            autocapitalize='off'
            autocorrect='off'
            type='text' />
          <div id='toc'>
            <ul class='list-reset h5 py1-ul'>
              
                
                <li><a
                  href='#ipnsentry'
                  class="">
                  IpnsEntry
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#create'
                  class="">
                  create
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#createwithexpiration'
                  class="">
                  createWithExpiration
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#validate'
                  class="">
                  validate
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#embedpublickey'
                  class="">
                  embedPublicKey
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#extractpublickey'
                  class="">
                  extractPublicKey
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getlocalkey'
                  class="">
                  getLocalKey
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#getidkeys'
                  class="">
                  getIdKeys
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#torfc3339'
                  class="">
                  toRFC3339
                  
                </a>
                
                </li>
              
                
                <li><a
                  href='#parserfc3339'
                  class="">
                  parseRFC3339
                  
                </a>
                
                </li>
              
            </ul>
          </div>
          <div class='mt1 h6 quiet'>
            <a href='https://documentation.js.org/reading-documentation.html'>Need help reading this?</a>
          </div>
        </div>
      </div>
      <div id='split-right' class='relative overflow-auto height-viewport-100'>
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='ipnsentry'>
      IpnsEntry
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipns/blob/4d1aff1efd1035f2903f339b5c66d3ffcfdaf302/src/index.js#L26-L34'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>IPNS entry</p>

    <div class='pre p1 fill-light mt0'>IpnsEntry</div>
  
    <p>
      Type:
      <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>
    </p>
  
  

  
  
  
  
  
  

  

  
    <div class='py1 quiet mt1 prose-big'>Properties</div>
    <div>
      
        <div class='space-bottom0'>
          <span class='code bold'>value</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          : value to be stored in the record

          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>signature</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a>)</code>
          : signature of the record

          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>validityType</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
          : Type of validation being used

          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>validity</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
          : expiration datetime for the record in RFC3339 format

          
        </div>
      
        <div class='space-bottom0'>
          <span class='code bold'>sequence</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
          : number representing the version of the record

          
        </div>
      
    </div>
  

  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='create'>
      create
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipns/blob/4d1aff1efd1035f2903f339b5c66d3ffcfdaf302/src/index.js#L47-L52'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Creates a new ipns entry and signs it with the given private key.
The ipns entry validity should follow the [RFC3339]<a href="https://www.ietf.org/rfc/rfc3339.txt">https://www.ietf.org/rfc/rfc3339.txt</a> with nanoseconds precision.
Note: This function does not embed the public key. If you want to do that, use <code>EmbedPublicKey</code>.</p>

    <div class='pre p1 fill-light mt0'>create</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>privateKey</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    private key for signing the record.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>value</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    value to be stored in the record.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>seq</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    number representing the current version of the record.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>lifetime</span> <code class='quiet'>((<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a> | <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>))</code>
	    lifetime of the record (in milliseconds).

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="#ipnsentry">IpnsEntry</a>></code>:
        entry

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='createwithexpiration'>
      createWithExpiration
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipns/blob/4d1aff1efd1035f2903f339b5c66d3ffcfdaf302/src/index.js#L63-L66'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Same as create(), but instead of generating a new Date, it receives the intended expiration time
WARNING: nano precision is not standard, make sure the value in seconds is 9 orders of magnitude lesser than the one provided.</p>

    <div class='pre p1 fill-light mt0'>createWithExpiration</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>privateKey</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    private key for signing the record.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>value</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    value to be stored in the record.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>seq</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>)</code>
	    number representing the current version of the record.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>expiration</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    expiration datetime for record in the 
[RFC3339]
<a href="https://www.ietf.org/rfc/rfc3339.txt">https://www.ietf.org/rfc/rfc3339.txt</a>
 with nanoseconds precision.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&#x3C;<a href="#ipnsentry">IpnsEntry</a>></code>:
        entry

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='validate'>
      validate
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipns/blob/4d1aff1efd1035f2903f339b5c66d3ffcfdaf302/src/index.js#L90-L127'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Validates the given ipns entry against the given public key.</p>

    <div class='pre p1 fill-light mt0'>validate</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>publicKey</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    public key for validating the record.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>entry</span> <code class='quiet'>(<a href="#ipnsentry">IpnsEntry</a>)</code>
	    ipns entry record.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='embedpublickey'>
      embedPublicKey
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipns/blob/4d1aff1efd1035f2903f339b5c66d3ffcfdaf302/src/index.js#L142-L178'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Embed the given public key in the given entry. While not strictly required,
some nodes (eg. DHT servers) may reject IPNS entries that don't embed their
public keys as they may not be able to validate them efficiently.
As a consequence of nodes needing to validade a record upon receipt, they need
the public key associated with it. For olde RSA keys, it is easier if we just
send this as part of the record itself. For newer ed25519 keys, the public key
can be embedded in the peerId.</p>

    <div class='pre p1 fill-light mt0'>embedPublicKey</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>publicKey</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    public key to embed.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>entry</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    ipns entry record.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="#ipnsentry">IpnsEntry</a></code>:
        entry with public key embedded

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='extractpublickey'>
      extractPublicKey
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipns/blob/4d1aff1efd1035f2903f339b5c66d3ffcfdaf302/src/index.js#L187-L210'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Extracts a public key matching <code>pid</code> from the ipns record.</p>

    <div class='pre p1 fill-light mt0'>extractPublicKey</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>peerId</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>)</code>
	    peer identifier object.

          </div>
          
        </div>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>entry</span> <code class='quiet'>(<a href="#ipnsentry">IpnsEntry</a>)</code>
	    ipns entry record.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        the public key

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getlocalkey'>
      getLocalKey
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipns/blob/4d1aff1efd1035f2903f339b5c66d3ffcfdaf302/src/index.js#L222-L222'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Get key for storing the record locally.
Format: /ipns/${base32(<HASH>)}</p>

    <div class='pre p1 fill-light mt0'>getLocalKey</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>key</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a>)</code>
	    peer identifier object.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='getidkeys'>
      getIdKeys
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipns/blob/4d1aff1efd1035f2903f339b5c66d3ffcfdaf302/src/index.js#L231-L241'>
      <span>src/index.js</span>
      </a>
    
  </div>
  

  <p>Get key for sharing the record in the routing mechanism.
Format: ${base32(/ipns/<HASH>)}, ${base32(/pk/<HASH>)}</p>

    <div class='pre p1 fill-light mt0'>getIdKeys</div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>pid</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array">Uint8Array</a>)</code>
	    peer identifier represented by the multihash of the public key as Uint8Array.

          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></code>:
        containing the 
<code>nameKey</code>
 and the 
<code>ipnsKey</code>
.

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='torfc3339'>
      toRFC3339
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipns/blob/4d1aff1efd1035f2903f339b5c66d3ffcfdaf302/src/utils.js#L10-L21'>
      <span>src/utils.js</span>
      </a>
    
  </div>
  

  <p>Convert a JavaScript date into an <code>RFC3339Nano</code> formatted
string.</p>

    <div class='pre p1 fill-light mt0'>toRFC3339(time: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>time</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
          
          <section class='p2 mb2 clearfix bg-white minishadow'>

  
  <div class='clearfix'>
    
    <h3 class='fl m0' id='parserfc3339'>
      parseRFC3339
    </h3>
    
    
      <a class='fr fill-darken0 round round pad1x quiet h5' href='https://github.com/ipfs/js-ipns/blob/4d1aff1efd1035f2903f339b5c66d3ffcfdaf302/src/utils.js#L30-L54'>
      <span>src/utils.js</span>
      </a>
    
  </div>
  

  <p>Parses a date string formatted as <code>RFC3339Nano</code> into a
JavaScript Date object.</p>

    <div class='pre p1 fill-light mt0'>parseRFC3339(time: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a></div>
  
  

  
  
  
  
  
  

  
    <div class='py1 quiet mt1 prose-big'>Parameters</div>
    <div class='prose'>
      
        <div class='space-bottom0'>
          <div>
            <span class='code bold'>time</span> <code class='quiet'>(<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>)</code>
	    
          </div>
          
        </div>
      
    </div>
  

  

  
    
      <div class='py1 quiet mt1 prose-big'>Returns</div>
      <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date">Date</a></code>:
        

      
    
  

  

  

  

  

  

  

  
</section>

          
        
      </div>
    </div>
  <script src='assets/anchor.js'></script>
  <script src='assets/split.js'></script>
  <script src='assets/site.js'></script>
</body>
</html>
